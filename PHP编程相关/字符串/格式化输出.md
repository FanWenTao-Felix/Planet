很多时候我们需要对数字进行格式化，比如位数不足前面加0补足。

```php
    //生成4位数，不足前面补0  
    $var=sprintf("%04d", 2);
    echo $var;//结果为0002  
    echo date('Y_m_d', time()).'_'.sprintf('d', rand(0,99));
```

<!--more-->

## 常见格式

### 类型

#### 数字

| 类型说明符 | 备注                                                         |
| ---------- | ------------------------------------------------------------ |
| `u`        | 将参数作为无符号十进制数字格式化                             |
| `d`        | 将参数作为有符号十进制数字格式化                             |
| `b`        | 将参数作为二进制数字(如 `10010110`)格式化                    |
| `e`        | 将参数作为科学计数法(如 `1.234e+3`)格式化                    |
| `f`        | 将参数作为浮点数字, 并且使用地区设定(如在法国, 逗号被用作小数点)格式化 |
| `F`        | 和上面相同, 不过不使用地区设定                               |
| `o`        | 将参数作为八进制数字格式化                                   |
| `x`        | 将参数作为小写十六进制数字(如 `4fdf87`)格式化                |
| `X`        | 将参数作为大写十六进制数字(如 `4FDF87`)格式化                |

#### 字符串

| 类型说明符 | 备注                                                         |
| ---------- | ------------------------------------------------------------ |
| `c`        | 将参数作为 ASCII 码值格式化为对应的字符                      |
| `s`        | 将参数作为字符串格式化                                      |



### format类型

#### 符号说明

```php
printf( "%+d", 36 );   // 输出 "+36"
printf( "%+d", -36 );  // 输出 "-36"
```

#### 数字精度

如果要指定不同的精度, 就要用到精度说明符了. 精度说明符是一个 `.` 号后跟一个数字, 并应放到类型说明符之前

```php
printf( "%f", 123.456 );  // 输出 "123.456000"
printf( "%.2f", 123.456 );   // 输出 "123.46"
printf( "%.10f", 123.456 );  // 输出 "123.4560000000"
printf( "%.0f", 123.456 );   // 输出 "123"

```

既指定了填充说明符又指定了精度说明符, 会将整个数字(包括整数和小数部分)填充到指定长度(小数点也算宽度):

```php
printf( "%08.2f", 123.456 );  // 输出 "00123.46"
printf( "%08.2f", 123.455 );  // 输出 "00123.45"
printf( "%08.2f", 123.451 );  // 输出 "00123.41"

// 格式化浮点数要注意
```

如果你同时使用 `s` 类型说明符和精度说明符,会截断目标字符串到指定的长度:

```php
printf( "%.2s", "Hello" );  // 输出 "He"

```



#### 填充

格式说明符都以 `%` 开头.通过在 `%` 前面插入一个填充说明符来指定填充规则.

`<填充符><宽度>`

- <填充符> 可以是 `0` 或空格. 如果你不指定则默认使用空格. 如果你想要指定其他填充符, 需在它之前加一个 `'` 字符.
- <宽度> 即想要填充到的宽度. 整数代表左填充, 负数代表右填充.

栗子:

- %% - 返回百分比符号
- %04d - 宽度为4, 不足则用0填充

```php
printf( "%04d", 12 );          // 输出 "0012"
printf( "%04d", 1234 );        // 输出 "1234"
printf( "%04d", 12345 );       // 输出 "12345"
printf( "% 10s", "Hello" );    // 输出 "     Hello"
printf( "%10s", "Hello" );     // 输出 "     Hello"
printf( "%'*10s", "Hello" );   // 输出 "*****Hello"
printf( "%'*-10s", "Hello" );  // 输出 "Hello*****"
```

#### 参数交换

在 `%` 符和类型说明符之间插入一个 `$` 号. 如:

```php

// 输出 "Australia comprises 10 territories and 6 states"
printf( 'Australia comprises %2$d territories and %1$d states', 6, 10 );
```

在上面的例子中, 第一个格式说明符是 `%2$d`. 意即: “将目标字符串后的第二个参数作为十进制整数格式化”. 第二个格式说明符 `%1$d` 即: “将目标字符串后的第一个参数作为十进制整数格式化”. 这样, 参数便以不同与默认的顺序格式化.

在上面的例子中, 格式字符串使用单引号而非双引号包围. 这样是为了阻止 `$` 符号被 PHP 解释为变量名.

## sprintf

`string sprintf ( string $format [, mixed $args [, mixed $... ]] )`

返回值: 格式化之后的字符串

```php
$a =  sprintf("%s 你好你好!", 'zongqi');
echo ($a); //zongqi 你好你好!

```



## vprintf

`int vprintf ( string $format , array $args )`

返回值: 字符串长度

```php
vprintf("%04d-%02d-%02d", explode('-', '1988-8-1')); 
// 1988-08-01

```



## sscanf

解析输入的字符

```php
list($serial) = sscanf("SN/2350001", "SN/%d"); // 2350001
```

```php
$auth = "24\tLewis Carroll";
$n = sscanf($auth, "%d\t%s %s", $id, $first, $last);
```



## fscanf

从文件中格式化输入

`mixed fscanf ( resource $handle , string $format [, mixed &$... ] )`



## printf

`int printf ( string $format [, mixed $args [, mixed $... ]] )`

返回值: 字符串的长度

```php
$a =  printf("%s 你好你好!", 'zongqi');
echo ($a); // 20
```
