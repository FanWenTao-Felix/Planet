

![](https://pic.superbed.cn/item/5dff081276085c32892c8f00.jpg)

![](https://pic2.superbed.cn/item/5dff151f76085c3289322334.jpg)

## computeIfAbsent

此方法首先判断缓存MAP中是否存在指定key的值，如果不存在，会自动调用mappingFunction(key)计算key的value，然后将key = value放入到缓存Map。

如果mappingFunction(key)返回的值为null或抛出异常，则不会有记录存入map

```java
HashMap<Integer, List<Integer>> map = new HashMap<>();
for (int i = 0; i < 10; i++) {
  map.computeIfAbsent(i, (k) -> {
    return new ArrayList<>();
  }).add(i);
}
map.forEach(((k,v) ->{
  System.out.println(v);
}));
```

![](https://youpaiyun.zongqilive.cn/image/20200407172425.png)















