在JVM底层volatile是采用`内存屏障`来实现的

## 内存屏障会提供3个功能：

**I. 它确保指令重排序时不会把其后面的指令排到内存屏障之前的位置，也不会把前面的指令排到内存屏障的后面；即在执行到内存屏障这句指令时，在它前面的操作已经全部完成；**

**II. 它会强制将对缓存的修改操作立即写入主存；**

**III. 如果是写操作，它会导致其他CPU中对应的缓存行无效。**

