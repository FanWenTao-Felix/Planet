## 两个基本原则

“好的散列函数 = 计算简单 + 分布均匀”。其中计算简单指的是散列函数的计算时间不应该超过其他查找技术与关键字比较的时间，而分布均匀指的是散列地址分布均匀。

## 具体方法

### 直接定址法

即使用关键字本身作为函数值，即`f(key) = key`

假如有一个从1到100岁的人口数字统计表，其中，年龄作为关键字，哈希函数取关键字自身。 

![](https://youpaiyun.zongqilive.cn/image/006tKfTcly1g0ewn3huiaj30k00bwdg4.jpg)

又假果现在要统计的是1980年以后出生的人口数，那么我们对出生年份这个关键字可以变换为：用年份减去1980的值来作为地址。即：`f(key) = key – 1980 `

![](https://youpaiyun.zongqilive.cn/image/006tKfTcly1g0ewnsu33oj30k00aajrp.jpg)

所以直接定值法是取关键字的某个线性函数值为散列地址，即 f(key) = a*key + b。其优点是简单、均匀，不会产生冲突；但缺点是需要知道关键字的分布情况，希望数值是连续的。

### 数字分析法

数字分析法通常适合处理关键字位数比较大的情况，例如我们现在要存储某家公司员工登记表，如果用手机号作为关键字，那么我们发现抽取后面的四位数字作为散列地址是不错的选择，如下图所示 

![](https://youpaiyun.zongqilive.cn/image/006tKfTcly1g0ewou5ovmj30k0047glm.jpg)

### 平方取中法

平方取中法是将关键字平方之后取中间若干位数字作为散列地址。这种方法适用于不知道关键字的分布，且数值的位数又不是很大的情况。

### 折叠法

折叠法是将关键字从左到右分割成位数相等的几部分，然后将这几部分叠加求和，并按散列表表长取后几位作为散列地址。

### 除留余数法

此方法为**最常用**的构造散列函数方法，对于散列表长为m的散列函数计算公式为： 

`f(key) = key mod p(p<=m)`

事实上，这个方法不仅可以对关键字直接取模，也可以通过折叠、平方取中后再取模。例如下表，我们对有12个记录的关键字构造散列表时，就可以用f(key) = key mod 12的方法。 

![](https://youpaiyun.zongqilive.cn/image/006tKfTcly1g0ewqb155aj30k002ejre.jpg)

### 随机数法

选择一个随机数，取关键字的随机函数值为它的散列地址。 `f(key) = random(key)`

这里的`random`是随机函数，当关键字的长度不等时，采用这个方法构造散列函数是比较合适的。











