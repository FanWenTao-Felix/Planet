## 虚引用

顾名思义，就是形同虚设，与其他集中不同，虚引用并不会决定对象的生命周期

- 虚引用需要java.lang.ref.PhantomReference类来实现。
- 如果一个对象持有虚引用，那么他就和没有任何引用一样，在任何时候都可能被垃圾回收器回收，他不能单独使用也不能通过它访问对象，虚引用和引用队列（ReferenceQueeu)联合使用。
- 虚引用的主要作用是跟踪对象被垃圾回收的状态，仅仅是提供了一种确保对象被finalize以后，做某些事情的机制。PhantomReference的get方法总是返回null，因此无法访问对应的引用对象。其意义在于**说明一个对象已经进入finalization阶段，可以被gc回收，用来实现比finalization机制更灵活的回收操作。**

换句话说，设置虚引用关联的唯一目的，就是这个对象被收集器回收的时候收到一个系统通知或者后续添加进一步的处理。

java允许使用`finalize()`方法在垃圾收集器将对象从内存中清除出去之前做必要的清理工作。



![](https://youpaiyun.zongqilive.cn/image/20200425140359.png)

