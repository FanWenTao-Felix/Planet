意向锁是InnoDB用来实现各种粒度的锁之间共存的方案。

它作用在**表级别**，表示事务下一步将继续获取记录级别的排他锁，或共享锁。

这样当其他操作需要取得表锁的时候，可以直接根据表上的意向锁来判断是否需要等待。

有两种意向锁：

1. `Intention Shared Lock`共享意向锁(IS)

   事务想要在获得表中某些记录的共享锁，需要在表上先加意向共享锁

2. `Intention Exclusive Lock`排他意向锁(IX)

   事务想要在获得表中某些记录的互斥锁，需要在表上先加意向互斥锁。

意向锁和意向锁之间不会有冲突，因为作用在表级别，所以只有与表级别的共享或排他锁才会发生冲突。从而达到了记录锁与表锁能快速相互感知相互影响的目的。

意向锁其实不会阻塞全表扫描之外的任何请求，它们的主要目的是为了表示**是否有人请求锁定表中的某一行数据**。



![](https://youpaiyun.zongqilive.cn/image/006tKfTcly1g14k6ihtxpj30u00p0mxn.jpg)



