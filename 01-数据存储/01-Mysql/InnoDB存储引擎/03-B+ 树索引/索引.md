InnoDB怎么区分⼀条记录是普通的⽤户记录还是⽬录项记录呢？

别忘了记录头信息⾥的`record_type`属性，它的各个取值代表的意思 如下：

0：普通的⽤户记录 

1：⽬录项记录 

2：最⼩记录 

3：最⼤记录

![](https://youpaiyun.zongqilive.cn/image/20200901141819.png)





## 主键索引

![](https://youpaiyun.zongqilive.cn/image/20200901161946.png)



## 二级索引

使⽤记录c2列的⼤⼩进⾏记录和⻚的排序，这包括三个⽅⾯的 含义：

⻚内的记录是按照c2列的⼤⼩顺序排成⼀个单向链表。

各个存放⽤户记录的⻚也是根据⻚中记录的c2列⼤⼩顺 序排成⼀个双向链表。

存放⽬录项记录的⻚分为不同的层次，在同⼀层次中的⻚ 也是根据⻚中⽬录项记录的c2列⼤⼩顺序排成⼀个双向 链表。

B+树的叶⼦节点存储的并不是完整的⽤户记录，⽽只是c2列 +主键这两个列的值。

⽬录项记录中不再是主键+⻚号的搭配，⽽变成了c2列+主键ID+ ⻚号的 搭配。

![](https://youpaiyun.zongqilive.cn/image/20200901162342.png)































