## 事务的隔离级别

不同的客户端或线程, 去访问mysql数据库的同一张表时, mysql提供一种机制, 来控制不同的客户端和线程对数据访问的权限, 

隔离级别定义了事务与事务之间的隔离程度, 

## 分类隔离级别

### 读未提交 read uncommitted

### 读已提交 read committed

### 可重复读 repeatable read  -- 默认

#### 关于幻读的问题说明--下边的这种情况不属于幻读:

![](https://ae01.alicdn.com/kf/Ha374a74206ce471381a649f5b2db15e2z.jpg)
`select`查询是读取的快照读

`update`的时候是读取最新数据(不是快照读).

### 可串行化  serializable



隔离程度 从上到下 , 越来越强



## 问题

### 脏读

当一个事务读取到另一个事务**`尚未提交`**的修改时, 产生脏读.

### 不可重复读

同一查询在同一事务中执行多次,由于其他提交事务所做的**`修改`**或者**`删除`**, 每次返回不同的结果集, 此时发生非重复读.

### 幻读

同一查询在同一事务中执行多次, 由于其他提交事务所做的`插入操作`,  每次返回不同的结果集, 此时发生 幻读. 

| 隔离级别                   | 脏读 | 不可重复读 | 幻读        | 加锁读 |
| -------------------------- | ---- | ---------- | ----------- | ------ |
| 读未提交(read uncommitted) | v    | v          | v           | 不加锁 |
| 读已提交(read committed)   | x    | v          | v           | 不加锁 |
| 可重复读(repeatable  read) | x    | x          | v           | 不加锁 |
| 可串行化                   | x    | x          | x           | 加锁   |

![](https://ae01.alicdn.com/kf/Hd6fb591b6fa7460faa3c2a1bd9c532ccD.jpg)







